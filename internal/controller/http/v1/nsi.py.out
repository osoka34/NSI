from fastapi import APIRouter, Depends
from fastapi.responses import JSONResponse
from internal.service.application_nsi import ApplicationNSIService
from internal.dto import LoadNSIRequest, GetNSIRequest

router = APIRouter()


@router.post('/load_nsi_data')
## @brief     Load NSI data
#
#
# @param		dto	LoadNSIRequest
#
# @return
# @return		JSONResponse	Default response with bool success and str message
#

async def load_nsi_data(
    dto: LoadNSIRequest,
    application_service: ApplicationNSIService = Depends(),
) -> JSONResponse:
    return application_service.load_nsi_data(dto)


@router.post('/get_nsi_data')
## @brief     Get NSI data
#
#
# @param		dto	GetNSIRequest
#
# @return
# @return		dict	json response with nsi data
#

async def get_nsi_data(
    dto: GetNSIRequest,
    application_service: ApplicationNSIService = Depends(),
) -> dict:
    return application_service.get_nsi_data(dto)

